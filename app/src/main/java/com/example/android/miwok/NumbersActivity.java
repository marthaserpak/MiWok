package com.example.android.miwok;import android.media.MediaPlayer;import android.os.Bundle;import androidx.appcompat.app.AppCompatActivity;import android.view.View;import android.widget.AdapterView;import android.widget.ListView;import android.widget.Toast;import java.util.ArrayList;public class NumbersActivity extends AppCompatActivity {    MediaPlayer mMediaPlayer;    /* This listener gets triggered when the mediaplayer    has completed playing the audio*/    private MediaPlayer.OnCompletionListener mOnCompletionListener =            new MediaPlayer.OnCompletionListener() {                @Override                public void onCompletion(MediaPlayer mp) {                    releaseMediaPlayer();                }            };    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.word_list);        final ArrayList<Word> words = new ArrayList<>();        words.add(new Word(R.drawable.number_one,                "one",                "lutti",                R.raw.number_one));        words.add(new Word(R.drawable.number_two,                "two",                "ottiko",                R.raw.number_two));        words.add(new Word(R.drawable.number_three,                "three",                "tolookosu",                R.raw.number_three));        words.add(new Word(R.drawable.number_four,                "four",                "oyyisa",                R.raw.number_four));        words.add(new Word(R.drawable.number_five,                "five",                "massokka",                R.raw.number_five));        words.add(new Word(R.drawable.number_six,                "six",                "temmoka",                R.raw.number_six));        words.add(new Word(R.drawable.number_seven,                "seven",                "kenekaku",                R.raw.number_seven));        words.add(new Word(R.drawable.number_eight,                "eight",                "kawinta",                R.raw.number_eight));        words.add(new Word(R.drawable.number_nine,                "nine",                "wo'e",                R.raw.number_nine));        words.add(new Word(R.drawable.number_ten,                "ten",                "na'aacha",                R.raw.number_ten));        WordAdapter adapter = new WordAdapter(this, words, R.color.numbers);        ListView listView = findViewById(R.id.list);        listView.setAdapter(adapter);        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {            @Override            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {                Word word = words.get(position);                releaseMediaPlayer();                mMediaPlayer = MediaPlayer.create(NumbersActivity.this,                        word.getAudioResourceId());                mMediaPlayer.start();                mMediaPlayer.setOnCompletionListener(mOnCompletionListener);                Toast.makeText(NumbersActivity.this,                        "Play", Toast.LENGTH_SHORT).show();            }        });    }    @Override    protected void onStop() {        super.onStop();        /*  When the activity is stopped, release the media player resources         * because we won't be playing any more sounds*/        releaseMediaPlayer();    }    private void releaseMediaPlayer() {        if(mMediaPlayer != null) {            mMediaPlayer.release();            mMediaPlayer=null;        }    };}